!function(e){var t={};function n(a){if(t[a])return t[a].exports;var l=t[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(a,l,function(t){return e[t]}.bind(null,l));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var a=(e,t,n,a)=>{let l=!0;let i=!1;return{getTitle:()=>e,updateTitle:t=>{e=t},getDescription:()=>t,updateDescription:e=>{t=e},getDueDate:()=>n,getTimeLeft:()=>"1 day",getPriority:()=>a,isActive:()=>l,activate:()=>{l=!0},deactivate:()=>{l=!1},getDone:()=>i,switchDone:()=>{i=!i}}};let l=[];const i=e=>{let t=[],n=!0;return{getTitle:()=>e,addTask:e=>{t.push(e)},removeTask:e=>{t.splice(e,1)},getTasks:()=>t,isActive:()=>n,activate:()=>{n=!0},deactivate:()=>{n=!1},store:()=>{let n=[];for(let e of t)n.push([e.getTitle(),e.getDescription(),e.getDueDate(),e.getPriority(),e.getDone()]);localStorage.setItem(e,JSON.stringify(n))}}},o=e=>{let t=["projects","tasks","details"];for(let n in t){let a=document.createElement("div");a.id=t[n]+"-pane",e.appendChild(a);let l=document.createElement("h1");if(l.id=t[n]+"-title",l.textContent=t[n],a.appendChild(l),n<2){let e=document.createElement("div");e.id=t[n]+"-input-container",a.appendChild(e);let l=document.createElement("input");l.id=t[n]+"-input",l.placeholder="New "+t[n].slice(0,t[n].length-1)+"...",e.appendChild(l);let i=document.createElement("div");i.id=t[n]+"-container",a.appendChild(i)}else{a.classList="empty";let e=document.createElement("div");e.textContent="Please select task to show details",e.id="details-empty",a.appendChild(e)}}},r=e=>{0==l.length&&alert("Please create a project first."),e||(e=l.filter(e=>1==e.isActive())[0]).store();let t=document.getElementById("tasks-container");t.innerHTML="";for(let n in e.getTasks().sort((function(e,t){return(e=e.getDone()?1:0)-(t=t.getDone()?1:0)}))){let a=document.createElement("div"),l=document.getElementsByClassName("task");a.classList="task",e.getTasks()[n].getDone()&&(a.classList+=" done"),a.textContent=e.getTasks()[n].getTitle(),a.addEventListener("mouseenter",e=>{let t=document.createElement("a");t.textContent="×",t.id="delete-task",l[n].appendChild(t);let a=document.createElement("a");a.textContent="✓",a.id="done-task",l[n].appendChild(a)}),a.addEventListener("mouseleave",e=>{document.getElementById("delete-task").remove(),document.getElementById("done-task").remove()}),a.addEventListener("click",t=>{let n=window.event.target.textContent.substring(0,window.event.target.textContent.length-2);"×"==window.event.target.textContent?g(e,window.event.target):"✓"==window.event.target.textContent?k(e,window.event.target):y(e,n)}),t.appendChild(a)}},d=()=>{let e=document.getElementById("projects-container");e.innerHTML="";for(let t in l){let n=document.createElement("div"),a=document.getElementsByClassName("project");n.classList="project",n.textContent=l[t].getTitle(),n.addEventListener("mouseenter",e=>{let n=document.createElement("a");n.textContent="×",n.id="delete-project",a[t].appendChild(n)}),n.addEventListener("mouseleave",e=>{document.getElementById("delete-project").remove()}),n.addEventListener("click",e=>{let t=window.event.target.textContent.substring(0,window.event.target.textContent.length-1);"×"==window.event.target.textContent?p(window.event.target):v(t)}),e.appendChild(n)}},s=()=>{c(),u()},c=()=>{const e=document.getElementById("projects-input");e.addEventListener("keydown",t=>{13===t.keyCode&&(""!=e.value?((e=>{let t=i(e);if(l.push(t),t.store(),d(),l.length>0)for(let e in l)l[e].deactivate(),document.getElementsByClassName("project")[e].classList="project";l[l.length-1].activate(),document.getElementsByClassName("project")[l.length-1].classList="project active",r(t)})(window.event.target.value),e.value="",e.blur()):alert("Please enter project name before creating it."))})},m=(e,t,n,i)=>{if(l)if(""!=e){((e,t,n,l,i)=>{let o=a(e,t,n,l);i.addTask(o),i.store(),r(i)})(document.getElementById("tasks-input").value,document.getElementById("tasks-description").value,document.getElementById("select-deadline").value,document.getElementById("select-priority").value,l.filter(e=>1==e.isActive())[0]),document.getElementById("select-priority").remove(),document.getElementById("select-deadline").remove(),document.getElementById("tasks-description").remove(),document.getElementById("create-task-button").remove()}else alert("Please enter task name before creating it.");else alert("Please select a project first.")},u=()=>{const e=document.getElementById("tasks-input");e.addEventListener("click",t=>{if(!document.getElementById("tasks-description")){let t=document.createElement("textarea");t.id="tasks-description",t.placeholder="Enter task description here...";let n=document.createElement("div");n.id="create-task-button",n.textContent="+",n.addEventListener("click",t=>{t.preventDefault(),m(),e.value="",e.blur()}),e.after(n),e.after(t);let a=document.createElement("input");a.type="date",a.id="select-deadline",a.value=(new Date).toDateInputValue(),e.after(a);let l=document.createElement("select");l.id="select-priority";let i=["low","normal","high","urgent"];for(let e in i){let t=document.createElement("option");t.textContent=i[e],l.appendChild(t)}l.value=i[2],a.after(l),document.getElementById("app").addEventListener("click",e=>{null!=event.target.parentNode&&"tasks-input-container"!=event.target.parentNode.id&&"OPTION"!=event.target.nodeName&&"create-task-button"!=event.target.id&&(t.remove(),l.remove(),a.remove(),n.remove())})}}),e.addEventListener("keydown",t=>{13===t.keyCode&&(m(),e.value="",e.blur())})},p=e=>{let t=window.event.target.parentNode,n=window.event.target.parentNode.parentNode,a=Array.prototype.indexOf.call(n.children,t);n.removeChild(t),l.splice(a,1),localStorage.removeItem(t.textContent.substring(0,t.textContent.length-1)),d()},g=(e,t)=>{let n=window.event.target.parentNode,a=window.event.target.parentNode.parentNode,l=Array.prototype.indexOf.call(a.children,n);a.removeChild(n),e.removeTask(l),e.store(),r(e)},v=e=>{let t=l.filter(t=>t.getTitle()==e)[0],n=l.filter(t=>t.getTitle()!=e);for(let e in n)n[e].deactivate();t.activate();let a=document.getElementsByClassName("project");for(let e=0;e<a.length;e++)a[e].classList="project";window.event?window.event.target.classList="project active":document.getElementsByClassName("project")[0].classList="project active",r(t)},y=(e,t)=>{let n=e.getTasks().filter(e=>e.getTitle()==t)[0],a=e.getTasks().filter(e=>e.getTitle()!=t);for(let e in a)a[e].deactivate();n.activate();let l=document.getElementsByClassName("task");for(let e=0;e<l.length;e++)l[e].classList="task";window.event.target.classList="task active",h(n)},k=(e,t)=>{let n=window.event.target.parentNode,a=window.event.target.parentNode.parentNode,l=Array.prototype.indexOf.call(a.children,n);e.getTasks()[l].switchDone(),e.store(),r(e)},h=e=>{let t=document.getElementById("details-pane");t.classList="show-content",t.innerHTML="";let n=document.createElement("h2");n.id="details-title",n.textContent=e.getTitle(),t.appendChild(n);let a=document.createElement("h3");a.id="details-description-label",a.textContent="Description: ",t.appendChild(a);let l=document.createElement("div");l.id="details-description",l.textContent=e.getDescription(),t.appendChild(l);let i=document.createElement("h3");i.id="details-due-label",i.textContent="Due: ",t.appendChild(i);let o=document.createElement("div");o.id="details-due",o.textContent=e.getDueDate(),t.appendChild(o);let r=document.createElement("h3");r.id="details-priority-label",r.textContent="Priority: ",t.appendChild(r);let d=document.createElement("div");d.id="details-priority",d.textContent=e.getPriority(),t.appendChild(d),f(e)},f=e=>{let t=document.getElementById("details-title");t.addEventListener("click",n=>{let a=t.textContent,l=document.createElement("input");l.id="details-title-edit",t.after(l),l.value=a,t.remove(),l.addEventListener("keydown",t=>{13===t.keyCode&&(""!=l.value?(e.updateTitle(l.value),l.remove(),h(e),r()):alert("Please make sure the task name is not empty."))})});let n=document.getElementById("details-description");n.addEventListener("click",t=>{let a=n.textContent,l=document.createElement("textarea"),i=document.createElement("div");i.id="details-description-container",l.id="details-description-edit",n.after(i),i.appendChild(l),l.value=a,n.remove();let o=document.createElement("a");o.textContent="+",o.id="update-description-button",l.after(o),o.addEventListener("click",t=>{e.updateDescription(l.value),i.remove(),o.remove(),h(e),r()})})};Date.prototype.toDateInputValue=function(){var e=new Date(this);return e.setMinutes(this.getMinutes()-this.getTimezoneOffset()),e.toJSON().slice(0,10)};(()=>{if(0==localStorage.length){let e=i("Main"),t=a("Create a new Project","To create a new Project, type its name in the field in the left pane, then press Enter button.",(new Date).toDateInputValue(),"important");e.addTask(t);let n=a("Create a new Task","To create a new Task, type its name in the field in the middle pane, then press Enter button OR type its name and details, choose deadline and priority, and click the plus symbol.",(new Date).toDateInputValue(),"important");e.addTask(n);let o=a("Mark a Task as done","To mark a Task as done, click a check mark. You can mark it as undone by clicking again.",(new Date).toDateInputValue(),"important");e.addTask(o);let r=a("Delete a Task","To delete a Task, click the cross mark. The Task will be permanently deleted.",(new Date).toDateInputValue(),"important");e.addTask(r);let d=a("Delete a Project","To delete a Project, click the cross mark next to it in the list. The Project will be permanently deleted.",(new Date).toDateInputValue(),"important");e.addTask(d),l.push(e)}for(let e=0;e<localStorage.length;e++){let t=i(localStorage.key(e));for(let n=0;n<JSON.parse(localStorage.getItem(localStorage.key(e))).length;n++){let l=JSON.parse(localStorage.getItem(localStorage.key(e)))[n],i=a(l[0],l[1],l[2],l[3]);l[4]&&i.switchDone(),t.addTask(i)}l.push(t)}})(),(()=>{let e=document.getElementById("app");o(e),s(),d()})(),v(document.getElementsByClassName("project")[0].innerHTML)}]);