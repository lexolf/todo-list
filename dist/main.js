!function(e){var t={};function n(a){if(t[a])return t[a].exports;var l=t[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(a,l,function(t){return e[t]}.bind(null,l));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var a=(e,t,n,a)=>{let l=!0;let i=!1;return{getTitle:()=>e,updateTitle:t=>{e=t},getDescription:()=>t,updateDescription:e=>{t=e},getDueDate:()=>n,updateDue:e=>{n=e},getPriority:()=>a,updatePriority:e=>{a=e},isActive:()=>l,activate:()=>{l=!0},deactivate:()=>{l=!1},getDone:()=>i,switchDone:()=>{i=!i}}};let l=[];const i=e=>{let t=[],n=!0;return{getTitle:()=>e,addTask:e=>{t.push(e)},removeTask:e=>{t.splice(e,1)},getTasks:()=>t,isActive:()=>n,activate:()=>{n=!0},deactivate:()=>{n=!1},store:()=>{let n=[];for(let e of t)n.push([e.getTitle(),e.getDescription(),e.getDueDate(),e.getPriority(),e.getDone()]);localStorage.setItem(e,JSON.stringify(n))}}},o=e=>{let t=["projects","tasks","details"];for(let n in t){let a=document.createElement("div");a.id=t[n]+"-pane",e.appendChild(a);let l=document.createElement("h1");if(l.id=t[n]+"-title",l.textContent=t[n],a.appendChild(l),n<2){let e=document.createElement("div");e.id=t[n]+"-input-container",a.appendChild(e);let l=document.createElement("input");l.id=t[n]+"-input",l.placeholder="New "+t[n].slice(0,t[n].length-1)+"...",e.appendChild(l);let i=document.createElement("div");i.id=t[n]+"-container",a.appendChild(i)}else{a.classList="empty";let e=document.createElement("div");e.textContent="Please select task to show details",e.id="details-empty",a.appendChild(e)}}},d=e=>{0==l.length&&alert("Please create a project first."),e||(e=l.filter(e=>1==e.isActive())[0]).store();let t=document.getElementById("tasks-container");t.innerHTML="";for(let n in e.getTasks().sort((function(e,t){return(e=e.getDone()?1:0)-(t=t.getDone()?1:0)}))){let a=document.createElement("div"),l=document.getElementsByClassName("task");a.classList="task",e.getTasks()[n].getDone()&&(a.classList+=" done"),a.textContent=e.getTasks()[n].getTitle(),a.addEventListener("mouseenter",()=>{let e=document.createElement("a");e.textContent="×",e.id="delete-task",l[n].appendChild(e);let t=document.createElement("a");t.textContent="✓",t.id="done-task",l[n].appendChild(t)}),a.addEventListener("mouseleave",()=>{document.getElementById("delete-task").remove(),document.getElementById("done-task").remove()}),a.addEventListener("click",()=>{let t=window.event.target.textContent.substring(0,window.event.target.textContent.length-2);"×"==window.event.target.textContent?g(e,window.event.target):"✓"==window.event.target.textContent?k(e,window.event.target):h(e,t)}),t.appendChild(a)}},r=()=>{let e=document.getElementById("projects-container");e.innerHTML="";for(let t in l){let n=document.createElement("div"),a=document.getElementsByClassName("project");n.classList="project",n.textContent=l[t].getTitle(),n.addEventListener("mouseenter",()=>{let e=document.createElement("a");e.textContent="×",e.id="delete-project",a[t].appendChild(e)}),n.addEventListener("mouseleave",()=>{document.getElementById("delete-project").remove()}),n.addEventListener("click",()=>{let e=window.event.target.textContent.substring(0,window.event.target.textContent.length-1);"×"==window.event.target.textContent?p(window.event.target):v(e)}),e.appendChild(n)}},s=()=>{c(),m()},c=()=>{const e=document.getElementById("projects-input");e.addEventListener("keydown",t=>{13===t.keyCode&&(""!=e.value?((e=>{let t=i(e);if(l.push(t),t.store(),r(),l.length>0)for(let e in l)l[e].deactivate(),document.getElementsByClassName("project")[e].classList="project";l[l.length-1].activate(),document.getElementsByClassName("project")[l.length-1].classList="project active",d(t)})(window.event.target.value),e.value="",e.blur()):alert("Please enter project name before creating it."))})},u=e=>{if(l)if(""!=e){((e,t,n,l,i)=>{let o=a(e,t,n,l);i.addTask(o),i.store(),d(i)})(document.getElementById("tasks-input").value,document.getElementById("tasks-description").value,document.getElementById("select-deadline").value,document.getElementById("select-priority").value,l.filter(e=>1==e.isActive())[0]),document.getElementById("select-priority").remove(),document.getElementById("select-deadline").remove(),document.getElementById("tasks-description").remove(),document.getElementById("create-task-button").remove()}else alert("Please enter task name before creating it.");else alert("Please select a project first.")},m=()=>{const e=document.getElementById("tasks-input");e.addEventListener("click",()=>{if(!document.getElementById("tasks-description")){let t=document.createElement("textarea");t.id="tasks-description",t.placeholder="Enter task description here...";let n=document.createElement("div");n.id="create-task-button",n.textContent="+",n.addEventListener("click",t=>{t.preventDefault(),u(),e.value="",e.blur()}),e.after(n),e.after(t);let a=document.createElement("input");a.type="date",a.id="select-deadline",a.value=(new Date).toDateInputValue(),e.after(a);let l=document.createElement("select");l.id="select-priority";let i=["low","normal","high","urgent"];for(let e in i){let t=document.createElement("option");t.textContent=i[e],l.appendChild(t)}l.value=i[2],a.after(l),document.getElementById("app").addEventListener("click",()=>{null!=event.target.parentNode&&"tasks-input-container"!=event.target.parentNode.id&&"OPTION"!=event.target.nodeName&&"create-task-button"!=event.target.id&&(t.remove(),l.remove(),a.remove(),n.remove())})}}),e.addEventListener("keydown",t=>{13===t.keyCode&&(u(),e.value="",e.blur())})},p=()=>{let e=window.event.target.parentNode,t=window.event.target.parentNode.parentNode,n=Array.prototype.indexOf.call(t.children,e);t.removeChild(e),l.splice(n,1),localStorage.removeItem(e.textContent.substring(0,e.textContent.length-1)),r(),document.getElementById("tasks-container").innerHTML=""},g=e=>{let t=window.event.target.parentNode,n=window.event.target.parentNode.parentNode,a=Array.prototype.indexOf.call(n.children,t);n.removeChild(t),e.removeTask(a),e.store(),d(e)},v=e=>{let t=l.filter(t=>t.getTitle()==e)[0],n=l.filter(t=>t.getTitle()!=e);for(let e in n)n[e].deactivate();t.activate();let a=document.getElementsByClassName("project");for(let e=0;e<a.length;e++)a[e].classList="project";window.event?window.event.target.classList="project active":document.getElementsByClassName("project")[0].classList="project active",d(t)},h=(e,t)=>{let n=e.getTasks().filter(e=>e.getTitle()==t)[0],a=e.getTasks().filter(e=>e.getTitle()!=t);for(let e in a)a[e].deactivate();n.activate();let l=document.getElementsByClassName("task");for(let e=0;e<l.length;e++)l[e].classList.contains("done")?l[e].classList="task done":l[e].classList="task";window.event.target.classList.contains("done")?window.event.target.classList="task done active":window.event.target.classList="task active",y(n)},k=e=>{let t=window.event.target.parentNode,n=window.event.target.parentNode.parentNode,a=Array.prototype.indexOf.call(n.children,t);e.getTasks()[a].switchDone(),e.store(),d(e)},y=e=>{let t=document.getElementById("details-pane");t.classList="show-content",t.innerHTML="";let n=document.createElement("h2");n.id="details-title",n.textContent=e.getTitle(),t.appendChild(n);let a=document.createElement("h3");a.id="details-description-label",a.textContent="Description: ",t.appendChild(a);let l=document.createElement("div");l.id="details-description",l.textContent=e.getDescription(),""==l.textContent&&(l.textContent="Description was not specified. Click to edit."),t.appendChild(l);let i=document.createElement("h3");i.id="details-due-label",i.textContent="Due: ",t.appendChild(i);let o=document.createElement("div");o.id="details-due",o.textContent=e.getDueDate(),t.appendChild(o);let d=document.createElement("h3");d.id="details-priority-label",d.textContent="Priority: ",t.appendChild(d);let r=document.createElement("div");r.id="details-priority",r.textContent=e.getPriority(),t.appendChild(r),E(e)},E=e=>{let t=document.getElementById("details-title");t.addEventListener("click",()=>{let n=t.textContent,a=document.createElement("input");a.id="details-title-edit",t.after(a),a.value=n,t.remove(),a.addEventListener("keydown",t=>{13===t.keyCode&&(""!=a.value?(e.updateTitle(a.value),a.remove(),y(e),d()):alert("Please make sure the task name is not empty."))})});let n=document.getElementById("details-description");n.addEventListener("click",()=>{let t=n.textContent,a=document.createElement("textarea"),l=document.createElement("div");l.id="details-description-container",a.id="details-description-edit",n.after(l),l.appendChild(a),a.value=t,n.remove();let i=document.createElement("a");i.textContent="✓",i.id="update-description-button",a.after(i),i.addEventListener("click",()=>{e.updateDescription(a.value),l.remove(),i.remove(),y(e),d()})});let a=document.getElementById("details-due");a.addEventListener("click",()=>{let t=a.textContent,n=document.createElement("input");n.type="date",n.id="details-due-edit";let l=document.createElement("div");l.id="details-due-container",a.after(l),l.appendChild(n),n.value=t,a.remove();let i=document.createElement("a");i.textContent="✓",i.id="update-due-button",n.after(i),i.addEventListener("click",()=>{e.updateDue(n.value),l.remove(),i.remove(),y(e),d()})});let l=document.getElementById("details-priority");l.addEventListener("click",()=>{let t=l.textContent,n=document.createElement("select");n.id="details-priority-edit";let a=["low","normal","high","urgent"];for(let e in a){let t=document.createElement("option");t.textContent=a[e],n.appendChild(t)}n.value=t;let i=document.createElement("div");i.id="details-priority-container",l.after(i),i.appendChild(n),l.remove();let o=document.createElement("a");o.textContent="✓",o.id="update-priority-button",n.after(o),o.addEventListener("click",()=>{e.updatePriority(n.value),i.remove(),o.remove(),y(e),d()})})};Date.prototype.toDateInputValue=function(){var e=new Date(this);return e.setMinutes(this.getMinutes()-this.getTimezoneOffset()),e.toJSON().slice(0,10)};(()=>{if(0==localStorage.length){let e=i("Main"),t=a("Create a new Project","To create a new Project, type its name in the field in the left pane, then press Enter button.",(new Date).toDateInputValue(),"high");e.addTask(t);let n=a("Create a new Task","To create a new Task, type its name in the field in the middle pane, then press Enter button OR type its name and details, choose deadline and priority, and click the plus symbol.",(new Date).toDateInputValue(),"high");e.addTask(n);let o=a("Mark a Task as done","To mark a Task as done, click a check mark. You can mark it as undone by clicking again.",(new Date).toDateInputValue(),"high");e.addTask(o);let d=a("Delete a Task","To delete a Task, click the cross mark. The Task will be permanently deleted.",(new Date).toDateInputValue(),"high");e.addTask(d);let r=a("Delete a Project","To delete a Project, click the cross mark next to it in the list. The Project will be permanently deleted.",(new Date).toDateInputValue(),"high");e.addTask(r);let s=a("Update a Task","To update the details of the Task, click the Task, then click any field on the details panel to the right that you wish to edit. Enter the updated details, then click the button to confirm a new date, priority or description, or press Enter to update the title",(new Date).toDateInputValue(),"high");e.addTask(s),l.push(e);for(let e in l)l[e].store()}else for(let e=0;e<localStorage.length;e++){let t=i(localStorage.key(e));for(let n=0;n<JSON.parse(localStorage.getItem(localStorage.key(e))).length;n++){let l=JSON.parse(localStorage.getItem(localStorage.key(e)))[n],i=a(l[0],l[1],l[2],l[3]);l[4]&&i.switchDone(),t.addTask(i)}l.push(t)}})(),(()=>{let e=document.getElementById("app");o(e),s(),r()})(),v(document.getElementsByClassName("project")[0].innerHTML)}]);